const SLP_ADMIN={has_pubsub:!0,topics:{}},slp_Admin_Filter=(void 0===jQuery.Callbacks&&(SLP_ADMIN.has_pubsub=!1,SLP_ADMIN.log("jQuery callbacks not supported."),SLP_ADMIN.log("Something is forcing jQuery version "+jQuery.fn.jquery+" .")),function(e){if(!SLP_ADMIN.has_pubsub)return{publish:function(e){return e}};var i;{if(e)return SLP_ADMIN.topics[e]||(i=jQuery.Callbacks(),SLP_ADMIN.topics[e]={hasSubscriptions:i.has,publish:i.fire,subscribe:i.add,unsubscribe:i.remove}),SLP_ADMIN.topics[e];slp.log("slp_Admin_filter(id) - the id is required.")}}),slp_AdminFilter=slp_Admin_Filter;SLP_ADMIN.options=function(){let s;const t=e=>{jQuery(s).removeClass("saving"),"ok"!==JSON.parse(e).status&&alert("Option not saved.")};return this.change_option=function(e,i=void 0,n=void 0){s=e,jQuery(e).addClass("saving"),void 0!==e&&jQuery(e).is(":checkbox")&&void 0!==e.checked&&jQuery(e).val(e.checked?"1":"0");i={action:"slp_change_option",security:slp_data.ajax_nonce,formdata:{option_name:void 0===i?jQuery(e).attr("id"):i,option_value:void 0===n?jQuery(e).val():n}};jQuery.post(ajaxurl,i,t)},this.initialize=function(){jQuery(".slp_icon_selector").on("click",function(){var e=jQuery(this).attr("src");const i=jQuery(this).closest("div.input-group"),n=i.find('input[type="text"]');i.find("img.slp_settings_icon").attr("src",e),n.val(e),this.change_option(n)});const e=jQuery(".quick_save").find(":input").not("button.add_media");e.on("change",e=>{this.change_option(e.currentTarget)})},{quick_save:!0,initialize:this.initialize,change_option:this.change_option}}();var slp_notifications=function(){var a=0;this.initialize=function(){jQuery("div.slp-notification").on("click",function(){this.remove()}),setTimeout(this.remove_all,5e3)},this.remove_all=function(){jQuery(".slp-notification").each(function(e){var i=jQuery(this);setTimeout(function(){i.remove()},3e3+300*e)})},this.add=function(e,i){var n=jQuery("div.store-locator-plus section.dashboard-content"),s="slp_alert_"+a++,t=jQuery('<div class="alert_box" id="'+s+' "><div class="slp-notification alert-center '+{success:"success",info:"information",warning:"warning",failure:"is-error"}[e]+' active"><div class="alert-icon"><i class="fa '+{success:"fa-check",info:"fa-info",warning:"fa-exclamation",failure:"fa-exclamation-triangle"}[e]+'"></i></div><div class="alert-content">'+i+'</div><div class="alert-action"><span class="button close"><i class="fa fa-close"></i></span></div></div></div>');return n.append(t),t.on("click",function(){this.remove()}),setTimeout(function(){t.remove()},5e3),s},this.update=function(e,i){jQuery("#"+e+" .alert-content").html(i)}},slp_ajax_manager=function(){this.post=function(e,i){e.security=slp_data.ajax_nonce||null;e=jQuery.post(ajaxurl,e);e.done(function(e){e=JSON.parse(e);"ok"==e.status&&i.message_ok?(AdminUI.notifications.add("success",i.message_ok),slp_Admin_Filter("ajax_post_ok").publish(e)):(i.message_info&&AdminUI.notifications.add("info",i.message_info),slp_Admin_Filter("ajax_post_info").publish(e))}),e.fail(function(e){i.message_failure&&AdminUI.notifications.add("failure",i.message_failure),slp_Admin_Filter("ajax_post_failure").publish(e)})}};const AdminUI={confirmClick:function(e,i){if(!confirm(e))return!1;location.href=i},dismiss_persistent_notice:function(){SLP_ADMIN.options.change_option(void 0,"options_nojs[admin_notice_dismissed]","1")},doAction:function(e){jQuery('#locationForm input[name="act"]').val(e),jQuery("#locationForm").submit()},load_first_tab:function(){var e=jQuery("#selected_nav_element").val()||jQuery("#content>div.group.subtab:first");e&&(jQuery(".group").hide(),jQuery(e).show())},open_first_menu:function(){jQuery("#wpcsl-nav li.current.has-children:first ul.sub-menu").hide().addClass("open").children("li:first").addClass("active").parents("li.has-children").addClass("open")},toggle_nav_menus:function(){jQuery("#wpcsl-nav li.has-children > a").on("click",function(){var e;return jQuery(this).parent().hasClass("open")||(jQuery("#wpcsl-nav li.top-level").removeClass("open").removeClass("current"),jQuery("#wpcsl-nav li.active").removeClass("active"),jQuery(this).parents(".top-level").hasClass("open")||(jQuery("#wpcsl-nav .sub-menu.open").removeClass("open").hide().parent().removeClass("current"),jQuery(this).parent().addClass("open").addClass("current").find(".sub-menu").hide().addClass("open").children("li:first").addClass("active")),""!=(e=jQuery(this).parent().find(".sub-menu li a:first").attr("href"))&&(jQuery(".group").hide(),jQuery(e).show())),!1})},setup_nav_highlights:function(){var e=jQuery("#selected_nav_element").val();(""==e?jQuery("#wpcsl-nav li.top-level:first"):jQuery('#wpcsl-nav li.top-level:has(a[href="'+e+'"])')).addClass("current").addClass("open"),jQuery("#wpcsl-nav li.top-level").not(".has-children").find("a").on("click",function(){var e=jQuery(this),i=e.attr("href");if(""!=i)return jQuery("#selected_nav_element").val(i),jQuery("#wpcsl-nav .open").removeClass("open"),jQuery(".sub-menu").hide(),jQuery("#wpcsl-nav .active").removeClass("active"),jQuery("#wpcsl-nav li.current").removeClass("current"),e.parent().addClass("current"),jQuery(".group").hide(),jQuery(i).show(),jQuery(i).trigger("is_shown"),!1}),jQuery(".sub-menu a").on("click",function(){var e=jQuery(this),i=jQuery(this).parents("li.top-level"),e=e.attr("href");return jQuery('.sub-menu li a[href="'+e+'"]').hasClass("active")||""!=e&&(i.addClass("open"),jQuery(".sub-menu li, .flyout-menu li").removeClass("active"),jQuery(this).parent().addClass("active"),jQuery(".group").hide(),jQuery(e).show()),!1})},unhide_hidden:function(e){(e=jQuery("#"+e)).attr("checked")?e.parent().parent().parent().nextAll().hide().removeClass("hidden").addClass("visible"):e.parent().parent().parent().nextAll().each(function(){if(jQuery(this).filter(".last").length)return jQuery(this).hide().addClass("hidden"),!1;jQuery(this).hide().addClass("hidden")})}};SLP_ADMIN.log=function(e){window.console&&console.log(e)},jQuery(document).ready(function(){AdminUI.notifications=new slp_notifications,AdminUI.notifications.initialize(),SLP_ADMIN.options.initialize(),SLP_ADMIN.ajax=new slp_ajax_manager,AdminUI.load_first_tab(),AdminUI.setup_nav_highlights(),AdminUI.toggle_nav_menus(),AdminUI.open_first_menu(),jQuery("div.settings-group").children("h3").on("click",function(){jQuery(this).parent(".settings-group").toggleClass("closed")}),jQuery("#slp_persistent_notice .notice-dismiss").on("click",AdminUI.dismiss_persistent_notice)});
//# sourceMappingURL=admin.min.js.map